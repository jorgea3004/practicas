<!doctype html>
<html lang="es">
    <head>
        <meta charset="ISO-8859-1" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <title>Carrusel 2D</title>
		<script src="../librarys/jquery-1.9.1.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="../librarys/modernizr.js"></script>
		<script type="text/javascript">
			function nextCarruselVertical(){
				var elm = $("div#carrusel ul");
				var elmlid = elm.find('li').eq(0).attr('id');
				var txt = "div#carrusel ul li#" + elmlid;
				$(txt).fadeToggle(400,function(){
					$(txt).clone().appendTo('#fotolist');
					$(txt).remove();
					$(txt).toggle();
				});
			}
		$(document).ready(function() {
			var elem = $('div#carrusel ul');
			var cnt = elem.find("li");
			elem.css('width',cnt.length*184)
			$('div#siguiente').click(function(){
				var p = $('#carrusel ul');
				var cn = p.find("li");
				$('#carrusel').stop(false,true);
				p.stop(false,true);
				var position = p.position();
				var pos = position.left - 184;
				var mxlft = (-1)*(cn.length*184);
				if(pos > mxlft){
					var backgroundPosition = $('#carrusel').css('background-position');
					var displacement = backgroundPosition.split(' '); 
					var bgleft = Number(displacement[0].replace(/[^0-9-]/g, '')) - 80;
					$('#carrusel').animate({backgroundPosition: bgleft},500);
					p.animate({"left":pos},500,function(){});
				}
			});
			$('div#anterior').click(function(){
				var p = $('#carrusel ul');
				$('#carrusel').stop(false,true);
				p.stop(false,true);
				var position = p.position();
				var pos = position.left + 184;
				if(pos<184){
					var backgroundPosition = $('#carrusel').css('background-position');
					var displacement = backgroundPosition.split(' '); 
					var bgleft = Number(displacement[0].replace(/[^0-9-]/g, '')) + 80;
					$('#carrusel').stop().animate({backgroundPosition: bgleft}, {duration:500});
					p.animate({"left":pos},500,function(){});
				}
			});
		});
		</script>
		<style type="text/css">
		body {
			margin:0;
			padding:0;
		}
		#wrapper {
			display:inline;
			float:left;
			height:auto;
			left:50%;
			margin:0px 0 0 -475px;
			position:relative;
			width:950px;
		}
		#carrusel {
			background:url(index_carrusel/Panorama_360_Lac_de_Joux.jpg) repeat-x 0% center;
			border:1px solid #aaa;
			display:inline;
			float:left;
			height:600px;
			margin-top:10px;
			overflow:hidden;
			position:relative;
			width:900px;
		}
		#carrusel ul {
			display:inline;
			float:left;
			height:180px;
			left:0;
			margin:200px 0px;
			padding:0;
			position:relative;
			width:3680px;
		}
		#carrusel ul li {
			display:inline;
			float:left;
			height:180px;
			list-style:none;
			margin:0px 2px;
			padding:0;
			position:relative;
			width:180px;
		}
		div#anterior {
			display:inline;
			float:left;
			height:180px;
			margin:0px 0px;
			padding:0;
			position:relative;
			width:auto;
		}
		div#siguiente {
			display:inline;
			float:left;
			height:180px;
			margin:0px 0px;
			padding:0;
			position:relative;
			width:auto;
		}
		</style>
    </head>
	<body>
		<div id="wrapper">
			<div id="anterior"><img src="index_carrusel/Carrusel_Left.png" border="0" /></div>
			<div id="carrusel">
				<ul id="fotolist">
					<li id="1"><img src="index_carrusel/thumbnail.php1.png" border="0" width="180" height="180" /></li>
					<li id="2"><img src="index_carrusel/thumbnail.php2.png" border="0" width="180" height="180" /></li>
					<li id="3"><img src="index_carrusel/thumbnail.php3.png" border="0" width="180" height="180" /></li>
					<li id="4"><img src="index_carrusel/thumbnail.php4.png" border="0" width="180" height="180" /></li>
					<li id="5"><img src="index_carrusel/thumbnail.php5.png" border="0" width="180" height="180" /></li>
					<li id="6"><img src="index_carrusel/thumbnail.php6.png" border="0" width="180" height="180" /></li>
					<li id="7"><img src="index_carrusel/thumbnail.php7.png" border="0" width="180" height="180" /></li>
					<li id="8"><img src="index_carrusel/thumbnail.php8.png" border="0" width="180" height="180" /></li>
					<li id="9"><img src="index_carrusel/thumbnail.php9.png" border="0" width="180" height="180" /></li>
					<li id="10"><img src="index_carrusel/thumbnail.php10.png" border="0" width="180" height="180" /></li>
					<li id="11"><img src="index_carrusel/thumbnail.php11.png" border="0" width="180" height="180" /></li>
					<li id="12"><img src="index_carrusel/thumbnail.php12.png" border="0" width="180" height="180" /></li>
					<li id="13"><img src="index_carrusel/thumbnail.php13.png" border="0" width="180" height="180" /></li>
					<li id="14"><img src="index_carrusel/thumbnail.php14.png" border="0" width="180" height="180" /></li>
					<li id="15"><img src="index_carrusel/thumbnail.php15.png" border="0" width="180" height="180" /></li>
					<li id="16"><img src="index_carrusel/thumbnail.php16.png" border="0" width="180" height="180" /></li>
					<li id="17"><img src="index_carrusel/thumbnail.php17.png" border="0" width="180" height="180" /></li>
					<li id="18"><img src="index_carrusel/thumbnail.php18.png" border="0" width="180" height="180" /></li>
					<li id="19"><img src="index_carrusel/thumbnail.php19.png" border="0" width="180" height="180" /></li>
					<li id="20"><img src="index_carrusel/thumbnail.php20.png" border="0" width="180" height="180" /></li>
					<li id="21"><img src="index_carrusel/thumbnail.php1.png" border="0" width="180" height="180" /></li>
					<li id="22"><img src="index_carrusel/thumbnail.php2.png" border="0" width="180" height="180" /></li>
					<li id="23"><img src="index_carrusel/thumbnail.php3.png" border="0" width="180" height="180" /></li>
					<li id="24"><img src="index_carrusel/thumbnail.php4.png" border="0" width="180" height="180" /></li>
					<li id="25"><img src="index_carrusel/thumbnail.php5.png" border="0" width="180" height="180" /></li>
					<li id="26"><img src="index_carrusel/thumbnail.php6.png" border="0" width="180" height="180" /></li>
					<li id="27"><img src="index_carrusel/thumbnail.php7.png" border="0" width="180" height="180" /></li>
					<li id="28"><img src="index_carrusel/thumbnail.php8.png" border="0" width="180" height="180" /></li>
					<li id="29"><img src="index_carrusel/thumbnail.php9.png" border="0" width="180" height="180" /></li>
					<li id="30"><img src="index_carrusel/thumbnail.php10.png" border="0" width="180" height="180" /></li>
				</ul>
			</div>
			<div id="siguiente"><img src="index_carrusel/Carrusel_Right.png" border="0" /></div>
		</div>
	</body>
</html>