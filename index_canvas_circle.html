<!doctype html>
<html lang="es">
<head>
	<meta charset="UTF-8" />
	<title>Practica Canvas</title>
	<script src="../librarys/modernizr.js"></script>
	<script src="../librarys/jquery-1.9.1.min.js"></script>
	<style type="text/css">
	html,body {height:100%}
	html {
		background:#FFF0FF;
		min-height:100%;
		position:relative
	}
	body {
		color:#000000;
		display:inline;
		float:left;
		height:auto;
		min-height: 100%;
		margin:0;
		padding:0;
		position:relative;
		text-align:left;
		width:100%;
	}
	div#wrapper {
		height:100%;
		min-height:100%;
	}
	</style>
	<script type="text/javascript">
		function deg2rad(ang) {
			return ang * (Math.PI/180.0);
		}
	$(function() {
		// Llama al objeto canvas
		var obj = $('#canvas');
		var ctx = obj[0].getContext("2d");
		var centerX = obj.width()/2;
		var centerY = obj.height()/2;
		var radio = 200;

		// dibuja un circulo
		ctx.beginPath();
		ctx.fillStyle = "#FF1C0A";
		ctx.arc(centerX, centerY, 100, 0, Math.PI*2, true); 
		ctx.closePath();
		ctx.fill();
		ctx.font="15px Arial";
		ctx.fillStyle = "#000000";
		var text = "Concepto";
		var metrics = ctx.measureText(text);
		var width = centerX - (metrics.width / 2);
		ctx.fillText(text,width,centerY);

		var concepts = 12;
		var angChange = deg2rad(360.0/concepts);
		var x1;
		var y1;
		var prevX;
		var prevY;
		var firstX;
		var firstY;
		for(var i=0;i<concepts;i++) {
			angle=i*angChange;
			prevX=x1;
			prevY=y1;
			x1=centerX+Math.cos(angle) * radio;
			y1=centerY+Math.sin(angle) * radio;
			if(i> 0) {
			}
			else {
				firstX = x1;
				firstY = y1;
			}
			ctx.beginPath();
			ctx.fillStyle = "#00A308";
			ctx.arc(x1,y1, 50, 0, Math.PI*2, true); 
			ctx.closePath();
			ctx.fill();
			ctx.font="15px Arial";
			ctx.fillStyle = "#000000";
			var text = "Resp " + i;
			var metrics = ctx.measureText(text);
			var width = x1 - (metrics.width / 2);
			ctx.fillText(text,width,y1);
		}
	});
	</script>
</head>
<body>
	<div id="wrapper">
		<canvas id="canvas" width="800" height="600"></canvas>
	</div>
</body>
</html>